<view class="chat-container" style="overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;"><uni-nav-bar vue-id="2dde97b4-1" fixed="{{true}}" status-bar="{{true}}" left-icon="left" leftWidth="290rpx" rightWidth="200rpx" background-color="#F7F7F7" border="{{false}}" data-event-opts="{{[['^clickLeft',[['goout']]]]}}" bind:clickLeft="__e" bind:__l="__l" vue-slots="{{['left','right']}}"><view slot="left"><uni-icons vue-id="{{('2dde97b4-2')+','+('2dde97b4-1')}}" type="left" size="24" bind:__l="__l"></uni-icons><view style="font-size:33rpx;margin-left:30rpx;">{{targetUserName}}</view></view><uni-icons style="margin-right:30rpx;" vue-id="{{('2dde97b4-3')+','+('2dde97b4-1')}}" type="more-filled" size="24" data-event-opts="{{[['^click',[['show_popup']]]]}}" bind:click="__e" slot="right" bind:__l="__l"></uni-icons></uni-nav-bar><view><scroll-view class="chat-messages" style="{{'height:'+(windowHeight-upHeight-320+'rpx')+';'}}" id="scrollview" scroll-y="true" scroll-top="{{scrollTop}}"><view id="msglistview"><block wx:if="{{type==2}}"><view><block wx:for="{{messages}}" wx:for-item="message" wx:for-index="index" wx:key="index"><like-and-comment-message vue-id="{{'2dde97b4-4-'+index}}" message="{{message}}" bind:__l="__l"></like-and-comment-message></block></view></block><block wx:else><view><block wx:for="{{messages}}" wx:for-item="message" wx:for-index="index" wx:key="index"><chat-message vue-id="{{'2dde97b4-5-'+index}}" message="{{message}}" is-my-message="{{message.isMyMessage}}" myId="{{userId}}" hisId="{{targetUserId}}" bind:__l="__l"></chat-message></block></view></block></view></scroll-view></view><view class="chat-input" style="{{'bottom:'+(downHeight+'rpx')+';'}}"><view class="input-wrapper" style="height:60rpx;"><input class="vue-ref" style="font-size:25rpx;" selection-end="-1" adjust-position="{{false}}" placeholder="请输入消息..." data-ref="emojiInput" data-event-opts="{{[['blur',[['cursorss',['$event']]]],['input',[['__set_model',['','inputText','$event',[]]]]]]}}" value="{{inputText}}" bindblur="__e" bindinput="__e"/><view class="icon-container" color="#fff" data-event-opts="{{[['tap',[['toogleDialogEmoji',['$event']]]]]}}" catchtap="__e"><image style="width:40rpx;height:40rpx;" src="/static/temp_pic/smile.svg" alt="Heart Icon"></image></view></view><view data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" class="send-button" bindtap="__e">发送</view></view><view hidden="{{!(showDialog)}}" class="emoji_box" style="z-index:1000;"><view class="emoji-container" style="{{'height:'+(windowHeight*0.3+'rpx')+';'}}"><view class="emoji-row"><block wx:for="{{emojis}}" wx:for-item="emoji" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['insertEmoji',['$0'],[[['emojis','',index]]]]]]]}}" class="emoji-item" bindtap="__e">{{''+emoji+''}}</view></block></view></view></view><view data-event-opts="{{[['tap',[['closeEmoji',['$event']]]]]}}" hidden="{{!(showDialog)}}" style="position:absolute;width:100%;height:100%;" bindtap="__e"></view><view style="position:absolute;z-index:2000;"><uni-popup class="vue-ref" vue-id="2dde97b4-6" background-color="#fff" data-ref="fankui" bind:__l="__l" vue-slots="{{['default']}}"><view class="tanchuang_inner" style="height:400rpx;"><view class="tanchuang_top"><view style="height:10%;display:flex;justify-content:flex-start;width:100%;"><text style="margin:20rpx;margin-right:auto;">用户操作</text></view><view class="flex align-center justify-center" style="height:70%;width:100%;font-size:40rpx;color:black;opacity:0.5;margin-bottom:auto;">对ta有什么意见吗</view><view class="tanchuang_bottom" style="margin-top:100rpx;"><view data-event-opts="{{[['tap',[['jubao',['$event']]]]]}}" class="tanchuang_tijiao" style="color:white;font-size:30rpx;background-color:#4095E5;" bindtap="__e">举报用户</view><view data-event-opts="{{[['tap',[['lahei',['$event']]]]]}}" class="tanchuang_tijiao" style="color:white;font-size:30rpx;background-color:#6C6C6C;" bindtap="__e">拉黑删除</view></view></view></view></uni-popup></view><view style="position:absolute;z-index:2000;"><uni-popup class="vue-ref" vue-id="2dde97b4-7" background-color="#fff" data-ref="jubao" bind:__l="__l" vue-slots="{{['default']}}"><view class="tanchuang_inner" style="height:800rpx;"><view class="tanchuang_top"><view style="height:10%;display:flex;justify-content:flex-start;width:100%;"><text style="margin:20rpx;margin-right:auto;">举报标签</text></view><scroll-view class="jubao_view" scroll-y="true" show-scrollbar="{{false}}"><block wx:for="{{jubaolabel}}" wx:for-item="tag" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['chooseJubaoLabel',[index]]]]]}}" class="{{[(tag.selected)?'selected-tag':'',(!tag.selected)?'unselected-tag':'']}}" bindtap="__e">{{''+tag.label+''}}</view></block></scroll-view><view class="tanchuang_bottom" style="margin-top:50rpx;"><view data-event-opts="{{[['tap',[['submit_jubao',['$event']]]]]}}" class="tanchuang_tijiao" style="color:white;font-size:30rpx;background-color:#4095E5;" bindtap="__e">提交举报</view></view></view></view></uni-popup></view></view>